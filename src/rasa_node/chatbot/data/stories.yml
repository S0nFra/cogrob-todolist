version: "2.0"

stories:

# - story: Say goodbye
#   steps:
#   - intent: goodbye
#   - action: utter_goodbye
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null
#   - action: action_restart

- story: story_thankyou
  steps:
  - intent: thankyou
  - action: utter_noworries

- story: identification
  steps:
  - intent: greet
  - action: utter_greet
  - action: username_form
  - slot_was_set:
    - requested_slot: username
  - action: utter_greet_user

- story: interactive_story_1
  steps:
  - intent: greet
  - action: utter_greet
  - action: username_form
  - active_loop: username_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Andrea
  - slot_was_set:
    - username: Andrea
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: utter_greet_user
  - intent: insert
    entities:
    - category: shopping
  - slot_was_set:
    - category: shopping
  - action: items_form
  - active_loop: items_form
  - slot_was_set:
    - category: shopping
  - slot_was_set:
    - category: shopping
  - slot_was_set:
    - requested_slot: activity
  - slot_was_set:
    - activity: Buy a dress
  - slot_was_set:
    - activity: Buy a dress
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_insert
  - slot_was_set:
    - category: null
  - slot_was_set:
    - activity: null
  - slot_was_set:
    - deadline: null
  - action: utter_ask_whatelse

- story: interactive_story_2
  steps:
  - intent: greet
  - action: utter_greet
  - action: username_form
  - active_loop: username_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Lucia
  - slot_was_set:
    - username: Lucia
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: utter_greet_user
  - intent: show
  - action: action_show
  - slot_was_set:
    - category: null
  - slot_was_set:
    - activity: null
  - slot_was_set:
    - deadline: null
  - intent: insert
  - action: items_form
  - active_loop: items_form
  - slot_was_set:
    - requested_slot: category
  - slot_was_set:
    - category: sport
  - slot_was_set:
    - category: sport
  - slot_was_set:
    - requested_slot: activity
  - slot_was_set:
    - activity: crossfit class
  - slot_was_set:
    - activity: crossfit class
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_insert
  - slot_was_set:
    - category: null
  - slot_was_set:
    - activity: null
  - slot_was_set:
    - deadline: null
  - action: utter_ask_whatelse
  - intent: show
    entities:
    - category: sport
  - slot_was_set:
    - category: sport
  - action: action_show
  - slot_was_set:
    - category: null
  - intent: thankyou
  - action: utter_noworries

# Questa funziona
# - story: identify user
#   steps:
#   - intent: greet
#   - action: utter_greet
#   - action: username_form
#   - slot_was_set:
#     - requested_slot: username
#   - action: utter_greet_user

# Work in progress
# - story: insertion
#   steps:
#   - intent: greet
#   - action: utter_greet
#   - action: username_form
#   - slot_was_set:
#     - requested_slot: username
#   - action: utter_greet_user
#   - intent: insert_new
#   - action: items_form
#   - action_loop: items_form
#   - slot_was_set:
#     - requested_slot: category
#   - slot_was_set:
#     - requested_slot: activity
#   - active_loop: false
#   - action: action_insert

# - story: Insert story
#   steps:
#   - intent: insert
#   - action: items_form
#   - active_loop: items_form
#   - active_loop: null
#   - action: deadline_form
#   - active_loop: deadline_form
#   - intent: deny
#   - action: utter_ask_for_more
#   - intent: deny
#   - action: action_deactivate_loop
#   - active_loop: null
#   - action: action_insert

#- story: insertion
#  steps:
#  - intent: insert
#  - action: items_form
#  - active_loop: items_form
#  - active_loop: null
#  - action: action_insert

# - story: insertion
#   steps:
#   - intent: insert
#   - action: items_form
#   - active_loop: items_form
#   - active_loop: null
#   - action: action_insert
  
#- story: insertion_rule_with_deadline
#  steps:
#  - intent: insert
#  - action: items_form
#  - active_loop: items_form
#  - active_loop: null
#  - action: utter_ask_deadline
#  - intent: affirm
#  - slot_was_set:
#    - requested_slot: deadline
#  - action: action_insert
