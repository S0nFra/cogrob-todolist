version: "2.0"

stories:

# - story: Say goodbye
#   steps:
#   - intent: goodbye
#   - action: utter_goodbye
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null
#   - action: action_restart

- story: story_thankyou
  steps:
  - intent: thankyou
  - action: utter_noworries

- story: identification
  steps:
  - intent: greet
  - action: utter_greet
  - action: username_form
  - slot_was_set:
    - requested_slot: username
  - action: utter_greet_user

# - story: Insert 
#   steps:
#   - intent: insert
#   - action: items_form
#   - active_loop: items_form
#   - active_loop: null
#   - checkpoint: check_deadline

# - story: Insert deadline
#   steps:
#   - checkpoint: check_deadline
#   - intent: affirm
#   - action: deadline_form
#   - active_loop: deadline_form
#   - active_loop: null
#   - action: action_insert
#   - action: utter_ask_whatelse

# - story: No deadline
#   steps:
#   - checkpoint: check_deadline
#   - intent: deny
#   - action: action_insert
#   - action: utter_ask_whatelse

# Questa funziona
# - story: identify user
#   steps:
#   - intent: greet
#   - action: utter_greet
#   - action: username_form
#   - slot_was_set:
#     - requested_slot: username
#   - action: utter_greet_user

# Work in progress
# - story: insertion
#   steps:
#   - intent: greet
#   - action: utter_greet
#   - action: username_form
#   - slot_was_set:
#     - requested_slot: username
#   - action: utter_greet_user
#   - intent: insert_new
#   - action: items_form
#   - action_loop: items_form
#   - slot_was_set:
#     - requested_slot: category
#   - slot_was_set:
#     - requested_slot: activity
#   - active_loop: false
#   - action: action_insert

# - story: Insert story
#   steps:
#   - intent: insert
#   - action: items_form
#   - active_loop: items_form
#   - active_loop: null
#   - action: deadline_form
#   - active_loop: deadline_form
#   - intent: deny
#   - action: utter_ask_for_more
#   - intent: deny
#   - action: action_deactivate_loop
#   - active_loop: null
#   - action: action_insert

#- story: insertion
#  steps:
#  - intent: insert
#  - action: items_form
#  - active_loop: items_form
#  - active_loop: null
#  - action: action_insert

# - story: insertion
#   steps:
#   - intent: insert
#   - action: items_form
#   - active_loop: items_form
#   - active_loop: null
#   - action: action_insert
  
#- story: insertion_rule_with_deadline
#  steps:
#  - intent: insert
#  - action: items_form
#  - active_loop: items_form
#  - active_loop: null
#  - action: utter_ask_deadline
#  - intent: affirm
#  - slot_was_set:
#    - requested_slot: deadline
#  - action: action_insert

- story: interactive_story_1
  steps:
  - intent: greet
  - action: utter_greet
  - action: username_form
  - active_loop: username_form
  - slot_was_set:
    - requested_slot: username
  - slot_was_set:
    - username: Antonio
  - slot_was_set:
    - username: Antonio
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: utter_greet_user
  - intent: insert
    entities:
    - activity: Sara's birthday
    - category: reminder
  - slot_was_set:
    - activity: Sara's birthday
  - slot_was_set:
    - category: reminder
  - action: items_form
  - active_loop: items_form
  - slot_was_set:
    - category: reminder
  - slot_was_set:
    - activity: Sara's birthday
  - slot_was_set:
    - category: reminder
  - slot_was_set:
    - activity: Sara's birthday
  - slot_was_set:
    - requested_slot: logical
  - slot_was_set:
    - logical: false
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_insert
  - slot_was_set:
    - category: null
  - slot_was_set:
    - activity: null
  - slot_was_set:
    - deadline: null
  - slot_was_set:
    - reminder: null
  - slot_was_set:
    - logical: null
  - action: utter_ask_whatelse
  - intent: insert
    entities:
    - activity: dance lesson
    - category: dessert
  - slot_was_set:
    - activity: dance lesson
  - slot_was_set:
    - category: dessert
  - action: items_form
  - active_loop: items_form
  - slot_was_set:
    - category: dessert
  - slot_was_set:
    - activity: dance lesson
  - slot_was_set:
    - category: dessert
  - slot_was_set:
    - activity: dance lesson
  - slot_was_set:
    - requested_slot: logical
  - intent: affirm
  - action: deadline_form
  - active_loop: deadline_form
  - slot_was_set:
    - requested_slot: deadline
  - slot_was_set:
    - deadline: '2022-11-10T21:13:00.000+01:00'
  - slot_was_set:
    - requested_slot: reminder
  - slot_was_set:
    - reminder: true
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_insert
  - slot_was_set:
    - category: null
  - slot_was_set:
    - activity: null
  - slot_was_set:
    - deadline: null
  - slot_was_set:
    - reminder: null
  - slot_was_set:
    - logical: null
  - action: utter_ask_whatelse
  - intent: insert
    entities:
    - activity: buy a bag
    - time: '2022-11-10T18:26:38.000+01:00'
    - category: single's day sales
  - slot_was_set:
    - activity: buy a bag
  - slot_was_set:
    - category: single's day sales
  - action: items_form
  - active_loop: items_form
  - slot_was_set:
    - category: single's day sales
  - slot_was_set:
    - activity: buy a bag
  - slot_was_set:
    - category: single's day sales
  - slot_was_set:
    - activity: buy a bag
  - slot_was_set:
    - requested_slot: logical
  - slot_was_set:
    - logical: false
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_insert
  - slot_was_set:
    - category: null
  - slot_was_set:
    - activity: null
  - slot_was_set:
    - deadline: null
  - slot_was_set:
    - reminder: null
  - slot_was_set:
    - logical: null
  - action: utter_ask_whatelse